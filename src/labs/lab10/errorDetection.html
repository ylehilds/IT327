<html>
<head>
<title>Error Detection and Coding: Parity, CRC & FEC</title>
<script type="text/javascript" src="jquery.js"></script> 
<script>
function parityCheck()
{
//alert ($("#userInput").val())
var userInput = $("#userInput").val();
var arrayBitErrors=new Array();
var i;
var bitCount=0;
for (i=0; i < userInput.length; i+=1)
{
//alert(userInput.charAt(i));
	if (userInput.charAt(i)==1)
	{
		bitCount += 1;
	}
}
//alert (bitCount);
if ((bitCount%2) == 0)
	{
		userInput+="1"	
		alert ("bit sequence " + userInput + " is now odd Parity")
	}
else 
	{
		userInput+="0"	
		alert ("bit sequence " + userInput +" continues to be odd Parity") //alert (userInput);
	}
// the bit errors in this program is bit 0, 1, 2
for (i=0; i < userInput.length; i+=1)
{
//alert(userInput.charAt(i));
	if (i==0)
	{
		if (userInput.charAt(0)==1)
		{
			arrayBitErrors[i] = 0;
		}
		else arrayBitErrors[i] = 1;
	}
	else if (i==1)
	{
		if (userInput.charAt(1)==1)
		{
			arrayBitErrors[i] = 0;
		}
		else arrayBitErrors[i] = 1;
	}
	else if (i==2)
	{
		if (userInput.charAt(2)==1)
		{
			arrayBitErrors[i] = 0;
		}
		else arrayBitErrors[i] = 1;
	}
	else 
	{
		arrayBitErrors[i] = userInput.charAt(i);
	}
}
//alert(arrayBitErrors);
var tempString = arrayBitErrors.toString();
var tempArray = tempString.split(',');
var arrayBitErrorsToString = "";
for (i=0; i<arrayBitErrors.length; i+=1)
	{
		arrayBitErrorsToString += tempArray[i];
	}

var newBitCount = 0;
for (i=0; i < arrayBitErrorsToString.length; i+=1)
{
//alert(userInput.charAt(i));
	if (arrayBitErrorsToString.charAt(i)==1)
	{
		newBitCount += 1;
	}
}
//alert (bitCount);
if ((newBitCount%2) == 0)
	{
		alert ("Error Dectected: Rechecking bit Parity with 3 errors on bit 0,1,2 = " + arrayBitErrorsToString + " is even Parity, which is wrong!")
	}
else alert ("Rechecking bit Parity with 3 errors on bit 0,1,2 = " + arrayBitErrorsToString +" Continues to be odd Parity") 
}


</script>
</head>
<body style="background-image:url('matrix.gif');">
<div id="wrapper" style="background-color:#C0C0C0; color:#5F5678; width:350; height:200; position:absolute; top:140; left: 454; ">
<div id="enterBits"><h2>Enter a 8-bit binary sequence: <br /></h2></div>
<input id="userInput" type="textarea"></input>
<button type="button" onClick="parityCheck()">Submit</input>
</div>
</body>
</html>